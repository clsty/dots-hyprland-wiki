---
title: Конфигурация
layout: /src/layouts/autonum.astro
lastUpdated: 2025-05-02
---

# Конфигурация Hyprland
Все что ниже, а также много всего другого держится на Hyprland.
- общие горячие клавиши
- переменные среды
- отображение/мониторы/рабочие пространства
- анимации окон/декорации
- ...

Смотрите: [Hyprland Wiki](https://wiki.hyprland.org/)

Для конфигурации Hyprland редактируйте файлы в `~/.config/hypr/custom/` которые инициализируются конфигом `~/.config/hypr/hyprland.conf`).
- Hyprland читает конфиг `hyprland.conf`. Когда он обнаруживает `source`, то читает соответствующий файл, затем идет дальше.

Установочный скрипт `install.sh` **НЕ** перезаписывает `~/.config/hypr/custom/`.

Также конфиг `~/.config/hypr/hyprland.conf` не будет перезаписан, если он уже существует, а будет создан отдельный `~/.config/hypr/hyprland.conf.new`. `*.new` в конце файла лишь пометка и не влияет на конфигурацию.

:::Осторожно
Для презаписи стандартных конфигов, возможно придется использовать дополнительные средства, например такие как `unbind` для горячих клавиш.

Если у вас не получается перезаписать файлы, то вы можете скопировать стандартный конфиг `~/.config/hypr/hyprland/` в `~/.config/hypr/custom/`, и редактировать `~/.config/hypr/hyprland.conf`, чтобы откомментировать строку, которая вызывает стандартный конфиг.

Однако, если вы обнаружите что-то странное в поведении Hyprland после обновления с помощью скрипта `install.sh`, то вам нужно перепроверить конфиг `~/.config/hypr/hyprland.conf` чтобы убедиться, что откомментированный стандартный конфиг не содержит различных необходимых изменений.
:::

## Включение размытия для приложений
В `~/.config/hypr/hyprland/rules.conf`, откомментируйте (добавьте `#` в начале строки) или удалите следующую строку
```ini
windowrule = noblur,.*  # Выключает размытие окон. Сильно улучшает производительность
```

# Конфигурация AGS
Все что ниже, а также пара других вещей держится на AGS.
- верхняя панель
- боковые панели
- шпаргалка с горячими клавишами
- уведомления
- виджет обозревателя/меню запуска

## Для конечных пользователей
Отредактируйте конфиг `~/.config/ags/user_options.jsonc`, так как он не перезаписывается скриптом `install.sh` при обновлении.
Вы можете отредактировать:
- Стандартного провайдера типа-ChatGPT помощника
- Скорости анимаций
- Формат времени
- и т.д.

:::Примечание
Для конфигов вне AGS, смотрите секцию "Остальное".
:::
### Установка формата даты и времени

В конфиге `~/.config/ags/user_options.jsonc`, отредактируйте секцию "time" согласно [данному формату](https://docs.gtk.org/glib/method.DateTime.format.html).
Также можно обратиться к `man date` для форматов.

### Установка города для виджета погоды
Если у устройства отсутствует аккумулятор (то есть любой ПК, а не ноутбук), то виджет батареи не будет отображаться, а вместо него будет виджет погоды.

По умолчанию, город для показа погоды определяется в `curl ipinfo.io`, или персонально указывается в `~/.config/ags/user_options.jsonc`.

:::Примечание
Если вы не уверены как правильно написать город,
то, так как мы используем [wttr.in](https://github.com/chubin/wttr.in) для отображения информации о погоде, то там вы и найдете ответ.
:::

### Установка горячих клавиш
Горячие клавиши ограничены, также нужно обращаться к документации GDK, но это возможно.

Смотрите [#5](https://github.com/end-4/dots-hyprland-wiki/issues/5).
### Пользовательские виджеты
Вывод bash скрипта можно использовать для виджета. Если `~/.cache/ags/user/scripts/custom-module-poll.sh` существует, то, по умолчанию, AGS будет отображать его вывод каждые 5000мс вместо системных индикаторов

Например, чтобы отобразить оставшееся пространство жесткого диска в `/`:
```bash title="~/.cache/ags/user/scripts/custom-module-poll.sh"
#!/bin/bash
export LANG=C
disk_info=$(df -h /)
available=$(echo "$disk_info" | awk 'NR==2 {print $4}')
total=$(echo "$disk_info" | awk 'NR==2 {print $2}')
echo "$available/$total"
```
Или более упрощенная версия в двух строках:
```bash title="~/.cache/ags/user/scripts/custom-module-poll.sh"
#!/bin/bash
LANG=C df -h / | awk 'NR==2 {printf "%s/%s\n", $4, $2}'
```

:::Примечание
Не забудьте сделать свой скрипт исполняемым файлом!
```bash
chmod +x ~/.cache/ags/user/scripts/*.sh
```
:::

Дальнейшая кастомизация:
- Интервал опроса, в миллисекундах: `~/.cache/ags/user/scripts/custom-module-interval.txt` (default = 5000)
- Скрипт по клику левой кнопкой мыши: `~/.cache/ags/user/scripts/custom-module-leftclick.sh`
- Скрипт по клику правой кнопкой мыши: `~/.cache/ags/user/scripts/custom-module-rightclick.sh`
## Для ~~задр...~~ гениев (вряд ли ты к ним относишься)
- Смотрите [AGS документация](https://aylur.github.io/ags-docs)
- А также "Для разработчиков" (в боковой панели)


# Остальное
## Изменить размер интерфейса / шрифта
Изменение размера шрифта изменит и размер интерфейса для AGS.
- Используя `gsettings`:
```bash
# Синтакс
gsettings set org.gnome.desktop.interface font-name 'FONT_NAME FONT_SIZE'
# Что было по умолчанию
gsettings set org.gnome.desktop.interface font-name 'Rubik 11'
```

## Конфигурация экрана блокировки
### Автоматическая блокировка
Смотрите: [Hyprland Wiki](https://wiki.hyprland.org/Hypr-Ecosystem/hypridle/)

Отредактируйте `~/.config/hypr/hypridle.conf` под ваши нужды.
### Пользовательский Hyprlock
Смотрите: [Hyprland Wiki](https://wiki.hyprland.org/Hypr-Ecosystem/hyprlock/)

Hyprlock это стандартный поставщик экрана блокировки.

Отредактируйте `~/.config/hypr/hyprlock.conf` под ваши нужды.

Например, чтобы установить формат даты и времени, измените  `text` **на соотетствующий**.
### Другой поставщик
Смотрите: [Arch Wiki](https://wiki.archlinux.org/title/Session_lock)

Например `swaylock`.

Отредактируйте `~/.config/hypr/hypridle.conf` и измените значение `$lock_cmd` на следующее:
```ini
$lock_cmd = swaylock
```
И убедитесь что hypridle включен и работает (обычно он должен автоматически загружаться, если прописан `exec-once = hypridle` в конфиге Hyprland).

В итоге `loginctl lock-session` будет обращаться к `swaylock` для отображения экрана блокировки.

:::note[Каким образом]
Комманда `loginctl lock-session` отправит сигнал рабочему процессу `hypridle`, а затем `hypridle` инициализирует команду, указанную в значении `$lock_cmd`.
:::

## Cloudflare WARP
- Может помочь обойти блокировки на уровне интернет-провайдера и ускорить соединение
- Если WARP установлен, то в правой боковой панели будет кнопка для его активации
- Для установки Cloudflare WARP, запустите `yay -S cloudflare-warp-bin && sudo systemctl enable warp-svc --now`

