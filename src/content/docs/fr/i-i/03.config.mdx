---
title: Configuration
layout: /src/layouts/autonum.astro
lastUpdated: 2025-10-14
---

:::caution
La version AGS d'illogical impulse n'est plus maintenue.

Bien qu'elle puisse encore fonctionner, vous devrez résoudre les éventuels problèmes de votre côté.

Les nouvelles demandes d'assistance pour la version AGS seront très probablement rejetées.
:::

# Configurer Hyprland
Les éléments suivants et aussi beaucoup d'autres choses sont alimentés par Hyprland.
- raccourcis globaux
- variables d'environnement
- affichage/moniteurs/espaces de travail
- animations/décorations de fenêtres
- ...

Référence : [Wiki Hyprland](https://wiki.hyprland.org/)

Pour configurer Hyprland, éditez les fichiers sous `~/.config/hypr/custom/` qui sont sourcés par `~/.config/hypr/hyprland.conf`).
- Hyprland lit `hyprland.conf`. Quand il voit un mot-clé `source`, il lit le fichier sourcé, puis continue.

Le script `install.sh` ne va **pas** écraser `~/.config/hypr/custom/`.

Aussi, pour `~/.config/hypr/hyprland.conf`, il ne sera pas écrasé quand il existe, mais un `~/.config/hypr/hyprland.conf.new` sera généré. Le fichier `*.new` est seulement pour référence de format, et n'a aucun effet du tout.

:::caution
Pour remplacer les configurations par défaut, vous pourriez avoir besoin d'utiliser certaines techniques, comme `unbind` pour les raccourcis.

Et si vous n'arrivez pas à remplacer quelque chose, vous pouvez copier le fichier de configuration par défaut de `~/.config/hypr/hyprland/` vers `~/.config/hypr/custom/`, et éditer `~/.config/hypr/hyprland.conf` pour commenter la ligne qui source le fichier de configuration par défaut.

Mais si vous trouvez quelque chose qui ne va pas avec Hyprland après la mise à jour avec `install.sh`, vous devez re-vérifier `~/.config/hypr/hyprland.conf` pour voir si le fichier de configuration par défaut commenté contient des changements nécessaires.
:::

## Activer le blur pour les applications
Dans `~/.config/hypr/hyprland/rules.conf`, commentez (avec un `#`) ou supprimez la ligne suivante
```ini
windowrule = noblur,.*  # Désactive le blur pour les fenêtres. Améliore substantiellement les performances.
```

# Configurer AGS
Les éléments suivants et aussi certaines autres choses sont alimentés par AGS.
- barre du haut
- barres latérales
- fiche de rappel
- notification
- widget de vue d'ensemble

## Pour les utilisateurs finaux
Éditez `~/.config/ags/user_options.jsonc`, qui ne sera pas écrasé par `install.sh` quand vous mettez à jour
Vous pouvez configurer des trucs comme
- Fournisseur d'assistant type ChatGPT par défaut
- Vitesse d'animation
- Format d'heure
- ...

:::note
Pour les configurations qui ne sont pas limitées à AGS, voir la section "Divers".
:::
### Définir le format de date et heure

Dans `~/.config/ags/user_options.jsonc`, éditez la section "time" selon [ce format](https://docs.gtk.org/glib/method.DateTime.format.html).
Vous pouvez aussi exécuter `man date` pour le format d'heure.

### Définir la ville pour le widget météo
Quand aucune batterie n'est détectée (typiquement un ordinateur de bureau), le widget de batterie et le widget utilitaire ne seront pas affichés.
À la place, un widget météo apparaîtra à cette position.

La ville pour la météo est détectée par `curl ipinfo.io` par défaut, ou explicitement définie dans `~/.config/ags/user_options.jsonc`.

:::note
Si vous n'êtes pas sûr du nom de la ville,
puisque nous utilisons [wttr.in](https://github.com/chubin/wttr.in) pour fournir les informations météo, vous pouvez trouver la réponse là.
:::

### Définir les raccourcis
Les raccourcis à configurer sont limités et vous devez référencer la documentation gdk pour connaître les touches, mais ça marche.

Voir [#5](https://github.com/end-4/dots-hyprland-wiki/issues/5) pour plus.
### Widget personnalisé
Vous pouvez utiliser la sortie d'un script bash pour un widget. Si `~/.cache/ags/user/scripts/custom-module-poll.sh` existe, AGS affichera sa sortie toutes les 5000ms par défaut à la place des indicateurs de ressources système

Par exemple, pour afficher l'espace de stockage disponible du chemin `/` :
```bash title="~/.cache/ags/user/scripts/custom-module-poll.sh"
#!/bin/bash
export LANG=C
disk_info=$(df -h /)
available=$(echo "$disk_info" | awk 'NR==2 {print $4}')
total=$(echo "$disk_info" | awk 'NR==2 {print $2}')
echo "$available/$total"
```
Et une version 2 lignes moins configurable, si vous préférez :
```bash title="~/.cache/ags/user/scripts/custom-module-poll.sh"
#!/bin/bash
LANG=C df -h / | awk 'NR==2 {printf "%s/%s\n", $4, $2}'
```

:::note
N'oubliez pas de rendre votre script exécutable !
```bash
chmod +x ~/.cache/ags/user/scripts/*.sh
```
:::

Pour une personnalisation supplémentaire :
- Intervalle de polling, en millisecondes : `~/.cache/ags/user/scripts/custom-module-interval.txt` (par défaut = 5000)
- Script d'action clic gauche : `~/.cache/ags/user/scripts/custom-module-leftclick.sh`
- Script d'action clic droit : `~/.cache/ags/user/scripts/custom-module-rightclick.sh`
## Pour les nerds (on doute que vous n'en êtes pas un)
- Voir [Documentation AGS](https://aylur.github.io/ags-docs)
- Aussi Notes de développement (voir la barre latérale)

# Divers
## Redimensionner l'interface / changer la taille de police
Changer la taille de police va aussi changer l'échelle de l'interface pour AGS.
- Utiliser `gsettings` :
```bash
# Syntaxe
gsettings set org.gnome.desktop.interface font-name 'NOM_POLICE TAILLE_POLICE'
# Par défaut de ces dotfiles
gsettings set org.gnome.desktop.interface font-name 'Rubik 11'
```

## Configurer le verrouillage d'écran
### Verrouillage d'écran automatique
Référence : [Wiki Hyprland](https://wiki.hyprland.org/Hypr-Ecosystem/hypridle/)

Éditez `~/.config/hypr/hypridle.conf` selon vos besoins.
### Hyprlock personnalisé
Référence : [Wiki Hyprland](https://wiki.hyprland.org/Hypr-Ecosystem/hyprlock/)

Hyprlock est le fournisseur de verrouillage d'écran par défaut.

Éditez `~/.config/hypr/hyprlock.conf` comme vous voulez.

Par exemple, pour définir le format de date et heure, changez la valeur du `text` **qui correspond au verrouillage**.
### Utiliser un autre fournisseur de verrouillage d'écran
Référence : [Arch Wiki](https://wiki.archlinux.org/title/Session_lock)

Prenons `swaylock` comme exemple.

Éditez `~/.config/hypr/hypridle.conf` et modifiez la valeur de `$lock_cmd` comme suit :
```ini
$lock_cmd = swaylock
```
Et assurez-vous qu'hypridle fonctionne (typiquement il devrait auto-démarrer si vous avez `exec-once = hypridle` dans la configuration Hyprland).

En conséquence, `loginctl lock-session` appellera `swaylock` pour verrouiller l'écran.

:::note[Comment]
La commande `loginctl lock-session` enverra un signal au processus `hypridle` en cours d'exécution, puis `hypridle` déclenchera la commande de la valeur de `$lock_cmd`.
:::

## Cloudflare WARP
- Cela pourrait vous aider à contourner les restrictions de votre FAI et fournir un internet plus rapide
- Il y aura un bouton sur la barre latérale droite pour basculer WARP s'il est installé
- Pour installer Cloudflare WARP, exécutez `yay -S cloudflare-warp-bin && sudo systemctl enable warp-svc --now`
