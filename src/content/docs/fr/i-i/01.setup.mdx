---
title: Installer / Mettre à jour / Désinstaller
layout: /src/layouts/autonum.astro
lastUpdated: 2025-10-14
---

:::caution
La version AGS d'illogical impulse n'est plus maintenue.

Bien qu'elle puisse encore fonctionner, vous devrez résoudre les éventuels problèmes de votre côté.

Les nouvelles demandes d'assistance pour la version AGS seront très probablement rejetées.
:::

# Installation
## Avant de commencer

-  Cette installation ne propose que **des personnalisations utilisateur**. L'installation de GNOME dans le processus vous fournira probablement quelques éléments système de base (réseau, bluetooth, etc.), mais nous partons du principe que vous les avez déjà configurés
-  EndeavourOS est recommandé pour vous simplifier la tâche
   - Les autres distributions basées sur Arch fonctionneront également très bien
   - Vous utilisez une distribution non-Arch ? Consultez la page [Discussions](https://github.com/end-4/dots-hyprland/discussions) pour voir si la vôtre est supportée
   - Il n'est jamais nécessaire de réinstaller votre système pour installer des dotfiles !

## Installation automatisée (pour les distributions Arch seulement)

Clonez le dépôt, passez à la branche `ii-ags` et exécutez le script d'installation :
```bash
t=~/.cache/dots-hyprland   # Ne salissons pas votre dossier home
git clone https://github.com/end-4/dots-hyprland.git "$t" --filter=blob:none
git checkout ii-ags
"$t"/install.sh
```

:::tip[Astuce]
Le script `install.sh` est idempotent et interactif.
Vous pouvez l'exécuter plusieurs fois et choisir de n'effectuer que certaines actions.
:::

## Pour NixOS (expérimental)
- Actuellement, ces dotfiles ne sont pas (encore ?) offerts comme flake.
- Bien que vous puissiez regarder [le flake NixOS d'end_4](https://github.com/end-4/CirnOS)
  - Il inclut la configuration home-manager. Vous voulez regarder le dossier `homes`.

- Voir aussi https://github.com/end-4/dots-hyprland/discussions/1093

## Pour OpenSUSE (expérimental)
- Voir https://github.com/end-4/dots-hyprland/discussions/485

## Pour Fedora (expérimental)
- Voir [la branche F42-ags d'EisregenHaha/fedora-hyprland](https://github.com/EisregenHaha/fedora-hyprland/tree/F42-ags)
  
- Voir aussi (discussion plus ancienne) : https://github.com/end-4/dots-hyprland/discussions/840
  
## Installation manuelle (pratiquement toute distribution)
:::note[Note pour les distributions non-Arch]
Vous devrez identifier les équivalents des paquets listés dans le tableau `depends` de ces fichiers `scriptdata/arch-packages/*/PKGBUILD` lors de l'installation des dépendances.
- Pour obtenir des informations sur un paquet (par exemple quels exécutables il fournit), recherchez-le sur [Arch Linux Packages](https://archlinux.org/packages) ou l'[AUR](https://aur.archlinux.org/packages).
- Si vous réussissez l'installation sur une distribution Linux non basée sur Arch, n'hésitez pas à partager la liste des paquets (ainsi que d'autres étapes si nécessaire) dans [Discussions](https://github.com/end-4/dots-hyprland/discussions). Nous pourrons ainsi automatiser l'installation pour cette distribution à l'avenir. Merci !
:::

- Cloner le dépôt et naviguer dans le répertoire
  ```bash
  t=~/.cache/dots-hyprland   # Évitons d'encombrer votre répertoire personnel
  git clone https://github.com/end-4/dots-hyprland.git "$t" --filter=blob:none
  cd "$t"
  ```
- Installer les paquets : Installez tous les paquets listés dans le tableau `depends` de ces fichiers `scriptdata/arch-packages/*/PKGBUILD`. Pour Arch Linux, utilisez simplement un assistant AUR comme `yay`.

- Exécutez `manual-install-helper.sh` pour installer les dépendances restantes.
  - Vous pouvez également installer des alternatives appropriées que vous avez identifiées, mais assurez-vous de faire `git checkout` vers le commit requis lors de l'installation d'AGS.
- Ajoutez l'utilisateur aux groupes `video` et `input`
  ```bash
  sudo usermod -aG video,input "$(whoami)" # si cette commande échoue pour une raison quelconque, remplacez simplement "$(whoami)" par votre nom d'utilisateur
  ```
- Copiez `.config` et `.local` dans votre répertoire personnel (vérifiez avant de procéder ou vous risquez d'écraser vos propres fichiers de configuration par inadvertance)

- Pour commencer, voici les raccourcis essentiels :
  - `Ctrl`+`Super`+`T` pour sélectionner un fond d'écran
  - `Super`+`/` pour afficher la liste des raccourcis. Amusez-vous bien !

# Post-installation
## Configuration quasi-obligatoire
### Thématisation Qt
- Sélectionnez KVantum dans les fenêtres qui s'affichent lorsque vous exécutez :
```sh
kcmshell6 kcm_style
kcmshell6 kcm_colors
```
### Prévenir les conflits de daemon de notification
- Des daemons de notification comme `dunst` et `mako` peuvent être inclus dans les personnalisations de votre distribution et risquent d'interférer avec AGS s'ils se lancent avant ce dernier. Il est recommandé de les désinstaller si vous ne les utilisez pas ailleurs.
## Configuration optionnelle
### Configurations supplémentaires
Consultez le dossier `Extras` pour voir s'il contient des éléments qui vous intéressent.
### Intégration média avec le navigateur
Si vous souhaitez que les miniatures média de votre navigateur s'affichent, installez l'extension "Plasma browser integration".
- Pour [Chromium](https://chrome.google.com/webstore/detail/plasma-integration/cimiefiiaegbelhefglklhhakcgmhkai)
- Pour [Firefox](https://addons.mozilla.org/en-US/firefox/addon/plasma-integration/)

### Colorscheme pour ZSH
Ajoutez cette ligne dans votre `~/.zshrc` pour activer la prise en charge des couleurs dans ZSH :
```bash
source ~/.config/zshrc.d/dots-hyprland.zsh
```

## Lancement d'Hyprland
- Pour lancer Hyprland, vous pouvez utiliser un gestionnaire d'affichage (Display Manager) ou directement depuis un `tty`.
- Le wiki Hyprland recommande de lancer Hyprland avec la session gérée par uswm, mais nous ne le recommandons pas. Cette méthode ne compromet pas les dotfiles, mais gardez à l'esprit que vous risquez d'avoir des applications qui se lancent automatiquement depuis d'autres environnements de bureau (par exemple des dialogues d'authentification en double)

Consultez le [wiki Hyprland](https://wiki.hyprland.org/Getting-Started/Master-Tutorial/#launching-hyprland) pour plus de détails. Voici quelques conseils supplémentaires.

### Comment lancer automatiquement Hyprland après connexion sur `tty1` ?
Pour ZSH ou BASH, ajoutez cette ligne au **bas** de votre `~/.zshrc` ou `~/.bashrc` :
```bash
source ~/.config/zshrc.d/auto-Hypr.sh
```

Pour FISH, ajoutez cette ligne au **bas** de votre `~/.config/fish/config.fish` :
```fish
source ~/.config/fish/auto-Hypr.fish
```

P.S. Il est recommandé de désactiver le gestionnaire d'affichage si vous souhaitez lancer Hyprland via tty.

### Je suis débutant. Qu'est-ce qu'un tty et un gestionnaire d'affichage ?

Voici une brève introduction pour vous donner un accès rapide, bien que simplifiée.

Vous pouvez considérer le `tty` comme la "base" d'un système Linux.
Il existe généralement 7 `tty` : `tty1` à `tty7`. Vous pouvez appuyer sur `Ctrl+Alt+F<n>` pour basculer vers `tty<n>`, puis saisir votre nom d'utilisateur et mot de passe pour vous connecter.

Après votre connexion, vous pouvez lancer un environnement graphique via une commande, par exemple `Hyprland`.
En réalité, la plupart des interfaces graphiques ne peuvent être lancées qu'**après** votre connexion.

Mais que faire si nous voulons une interface graphique pour la connexion elle-même ?

C'est là qu'intervient le gestionnaire d'affichage (Display Manager, aussi appelé "Login Manager").
- Quelques gestionnaires d'affichage couramment utilisés :
  - `sddm` : Souvent utilisé avec KDE Plasma.
  - `gdm` : Souvent utilisé avec GNOME.
- Il est activé au niveau système et se lance automatiquement après le démarrage (avant toute connexion).
  - Sur une distribution basée sur systemd, le gestionnaire d'affichage est généralement activé en tant que service systemd. Exécutez la commande suivante pour voir lequel est activé :
    ```bash
    grep 'ExecStart=' /etc/systemd/system/display-manager.service
    ```
    Si cette commande retourne "No such file or directory", alors aucun gestionnaire d'affichage n'est activé, ou votre distribution n'utilise pas systemd.
- Il vous fournit une interface graphique pour vous connecter et choisir l'environnement graphique (par exemple Hyprland).
  - Comment le gestionnaire d'affichage sait-il quels environnements graphiques sont disponibles ?
    - Il recherche normalement dans `/usr/share/xsessions` pour les environnements X11, et dans `/usr/share/wayland-sessions` pour les environnements Wayland.
    - Les fichiers desktop de ces répertoires contiennent les informations sur les environnements graphiques disponibles.

# Mise à jour
## Installé automatiquement
- `cd` dans le répertoire du dépôt
- Exécutez `git pull` pour récupérer les derniers changements.
- Exécutez `./install.sh` à nouveau
  - Ignorez les étapes que vous ne voulez pas (surtout celles `rsync ...` car elles vont **écraser vos fichiers sous leur chemin cible**).
    Typiquement vous pourriez vouloir l'étape `rsync` qui implique `.config/ags`.

Exécutez `./install.sh -h` pour voir plus d'usages.
## Installé manuellement
- `cd` vers le répertoire du dépôt
- Exécutez `git pull` pour récupérer les derniers changements.
- Récupérez les fichiers que vous voulez. Typiquement vous pourriez vouloir récupérer le dossier `.config/ags`.
- Exécutez `manual-install-helper.sh` pour mettre à jour certaines des dépendances.

# Désinstallation
- La désinstallation manuelle est **fortement recommandée**
- Actuellement, il y a un script pour la désinstallation, mais il est loin d'être parfait et n'est pas activement maintenu.
- Voici une longue explication si ça vous intéresse :

> Le point est que ce dépôt n'est pas un "logiciel" typique, mais un ensemble de configurations,
> Donc c'est très difficile de faire un script de désinstallation approprié,
> qui devrait annuler tous les changements faits par le script d'installation.
> 
> Par exemple, le script d'installation va installer `yay` (AUR-helper) pour vous si vous n'en avez pas.
> Cependant, que devrait faire le script de désinstallation pour annuler ces changements ?
> - Supprimer `yay` ou `yay-bin` ? Pas approprié, car vous pourriez déjà en avoir un installé par vous-même (PAS par le script d'installation).
> - Même si le script d'installation avait enregistré la liste des paquets installés par le script, ce n'est toujours pas approprié de supprimer `yay` ou `yay-bin` quand le log montre que `yay` ou `yay-bin` est installé par le script, car le script ne peut pas enregistrer son futur, et vous pourriez avoir réinstallé `yay` ou `yay-bin` un autre jour après que le script d'installation soit terminé, donc ils ne sont en fait plus installés par le script d'installation.
> 
> En conclusion, il n'est presque pas possible d'écrire un script de désinstallation approprié.
> Vous feriez mieux de faire les changements annulés manuellement selon vos besoins.

:::note[État actuel]
Puisque nous utilisons maintenant des PKGBUILDs locaux pour les distributions Arch(-based), 
le `uninstall.sh` est capable d'une désinstallation appropriée pour les paquets Arch/AUR, 
mais supprimer les fichiers de configuration n'est toujours pas parfait.

Voir aussi https://github.com/end-4/dots-hyprland/issues/838#issuecomment-2406220007
:::
